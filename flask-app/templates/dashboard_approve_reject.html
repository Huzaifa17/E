{% extends 'base.html' %}

{% block content %}
<h2>Approve/Reject Posts</h2>

<ul>
    {% for post in posts %}
    <li>
        <strong>{{ post.title }}</strong> by {{ post.username }}
        <p>{{ post.content }}</p>
        {% if post.attachment_urls %}
        <h4>Attachments:</h4>
        <ul>
            {% for attachment_url in post.attachment_urls %}
            <li><a href="{{ attachment_url }}" target="_blank">View Attachment</a></li>
            {% endfor %}
        </ul>
        {% endif %}
        <a href="{{ url_for('approve_post', post_id=post._id) }}">Approve</a> |
        <a href="{{ url_for('reject_post', post_id=post._id) }}">Reject</a>
    </li>
    {% else %}
    <li>No pending posts found.</li>
    {% endfor %}
</ul>
{% endblock %}